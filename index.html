<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UT Microfarm Interactive Map</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }

        /* SVG styles removed as they are no longer needed.
          Hotspot and Modal styles are unchanged.
        */

        /* Hotspot Styling */
        .hotspot {
            position: absolute;
            width: 24px;
            height: 24px;
            background-color: #ef4444; /* Red */
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
            cursor: pointer;
            transition: all 0.2s ease;
            animation: pulse 2s infinite;
        }
        .hotspot:hover {
            transform: scale(1.2);
            animation-play-state: paused;
        }
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.7; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Modal Styling */
        .modal {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }
        .modal-content {
            transition: transform 0.3s ease;
        }
        .modal.hidden {
            opacity: 0;
            transform: scale(0.95);
            pointer-events: none;
        }
        .modal-content.hidden {
            transform: translateY(20px);
        }
        .modal-content.visible {
            transform: translateY(0);
        }
        .modal.visible {
            opacity: 1;
            transform: scale(1);
            pointer-events: auto;
        }
    </style>
</head>
<body class="bg-gray-100 p-4 md:p-8">

    <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden">
        <div class="p-6">
            <h1 class="text-2xl md:text-3xl font-bold text-center text-gray-800">
                UT Microfarm Interactive Map
            </h1>
        </div>

        <!-- Tab Controls -->
        <div class="flex border-b border-gray-200">
            <button id="tab-how-to" class="flex-1 py-4 px-6 text-center font-semibold text-green-700 border-b-4 border-green-700 focus:outline-none" onclick="switchTab('how-to')">
                How to Get Here
            </button>
            <button id="tab-explore" class="flex-1 py-4 px-6 text-center font-semibold text-gray-500 hover:text-green-600 focus:outline-none" onclick="switchTab('explore')">
                Explore the Farm
            </button>
        </div>

        <!-- Tab Content -->
        <div class="p-4 md:p-8">
            <!-- "How to Get Here" Tab Content -->
            <div id="content-how-to">
                <h2 class="text-xl font-semibold text-gray-700 mb-4">Directions & Parking</h2>
                <p class="text-gray-600 mb-6">Follow the path to find the farm, located behind the UT Whitaker Tennis Courts. Leralynn St. offers free parking for all visitors.</p>
                <div class="w-full overflow-hidden rounded-lg border border-gray-200">
                    <!-- 
                      NOTE: Replace this 'src' with the URL of the image 
                      after you upload it to your WordPress media library.
                    -->
                    <img src="microfarm-map-with-labels.png" alt="Directions to UT Microfarm" class="w-full h-auto"
                         onerror="this.src='https://placehold.co/800x600/e2e8f0/94a3b8?text=Directions+Map+Loading...'">
                </div>
            </div>

            <!-- "Explore the Farm" Tab Content -->
            <div id="content-explore" class="hidden">
                <h2 class="text-xl font-semibold text-gray-700 mb-4">Farm Layout</h2>
                <p class="text-gray-600 mb-6">Click on the pulsing red dots to learn more about each area of the farm.</p>
                
                <!-- 
                  This is the core of the interactive map.
                  The SVG has been REPLACED with an <img> tag.
                  The hotspots (divs) are positioned on top of it.
                -->
                <div class="relative w-full max-w-3xl mx-auto aspect-video rounded-lg overflow-hidden border border-gray-200">
                    <!-- 
                      *** THIS IS THE IMPORTANT PART ***
                      Replace this 'src' with the URL of the beautiful map
                      you create in Photoshop and upload to WordPress.
                    -->
                    <img src="ut-microfarm-only.png" 
                         alt="Illustrated map of the UT Microfarm" 
                         class="w-full h-full object-cover">
                    
                    <!-- 
                      Hotspots
                      These are positioned with percentages (top, left).
                      You will need to drag these around to match your custom map.
                      
                      To find the percentages:
                      1. Open this file in a browser.
                      2. Right-click a hotspot and "Inspect Element".
                      3. Manually edit the "top: Y%" and "left: X%" values
                         until the dot is where you want it.
                      4. Copy those final values back into this file.
                    -->
                    <div class="hotspot" style="top: 35%; left: 38%;" onclick="openModal('shed')"></div>
                    <div class="hotspot" style="top: 65%; left: 25%;" onclick="openModal('beds')"></div>
                    <div class="hotspot" style="top: 30%; left: 70%;" onclick="openModal('plot1')"></div>
                    <div class="hotspot" style="top: 80%; left: 50%;" onclick="openModal('orchard')"></div>
                </div>

            </div>
        </div>
    </div>

    <!-- 
      Modal Window
      This is hidden by default and shown with JavaScript.
      (This section is unchanged)
    -->
    <div id="modal" class="modal hidden fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeModal()">
        <!-- Modal Backdrop -->
        <div class="fixed inset-0 bg-black bg-opacity-75"></div>
        
        <!-- Modal Content -->
        <div id="modal-content" class="modal-content hidden bg-white rounded-lg shadow-xl overflow-hidden max-w-lg w-full relative z-10" onclick="event.stopPropagation()">
            <!-- Close Button -->
            <button class="absolute top-3 right-3 text-gray-400 hover:text-gray-800" onclick="closeModal()">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            
            <!-- Dynamic Content -->
            <img id="modal-image" src="" alt="Location image" class="w-full h-48 object-cover">
            <div class="p-6">
                <h3 id="modal-title" class="text-2xl font-bold text-gray-800 mb-3"></h3>
                <p id="modal-description" class="text-gray-600"></p>
            </div>
        </div>
    </div>

    <!-- 
      JavaScript for Tabs and Modal
      (This section is unchanged)
    -->
    <script>
        // Data for the modal popups
        const modalData = {
            'shed': {
                title: 'Main Shed & Tool Storage',
                description: 'This is where we keep all our tools, seeds, and equipment. It\'s also the main gathering point for new volunteers before a workday begins. Fun fact: The roof is designed to collect rainwater!',
                imageUrl: 'garden_shed_example.jpg'
            },
            'beds': {
                title: 'Raised Garden Beds',
                description: 'These beds are used for seasonal vegetable production and student experiments. Right now, we are growing tomatoes, peppers, and various herbs. These are easier to work with as they don\'t require bending over as much.',
                imageUrl: 'https://placehold.co/600x400/a3e635/4d7c0f?text=Photo+of+Raised+Beds'
            },
            'plot1': {
                title: 'Large Crop Plot',
                description: 'This is one of our main in-ground plots. We rotate crops here seasonally, including corn, squash, and beans, to keep the soil healthy. This plot is essential for our outpost produce tracking.',
                imageUrl: 'https://placehold.co/600x400/a3e635/4d7c0f?text=Photo+of+Large+Plot'
            },
            'orchard': {
                title: 'Fruit Orchard',
                description: 'This area contains a variety of young fruit trees, including fig, pear, and citrus. We are experimenting to see which varieties grow best in the Austin climate. Fun fact: These trees are watered using a drip irrigation system.',
                imageUrl: 'https://placehold.co/600x400/a3e635/4d7c0f?text=Photo+of+Orchard'
            }
        };

        const modal = document.getElementById('modal');
        const modalContent = document.getElementById('modal-content');
        const modalImage = document.getElementById('modal-image');
        const modalTitle = document.getElementById('modal-title');
        const modalDescription = document.getElementById('modal-description');

        // Tab switching logic
        const tabButtons = {
            'how-to': document.getElementById('tab-how-to'),
            'explore': document.getElementById('tab-explore')
        };
        const tabContents = {
            'how-to': document.getElementById('content-how-to'),
            'explore': document.getElementById('content-explore')
        };

        function switchTab(tab) {
            // Update button styles
            for (const key in tabButtons) {
                // Remove active styles from all buttons (color + border)
                tabButtons[key].classList.remove('text-green-700', 'border-green-700', 'border-b-4');
                tabButtons[key].classList.add('text-gray-500', 'hover:text-green-600');
            }
            // Add active styles to the selected button (color + border thickness + border color)
            tabButtons[tab].classList.add('text-green-700', 'border-green-700', 'border-b-4');
            tabButtons[tab].classList.remove('text-gray-500', 'hover:text-green-600');

            // Show/hide content
            for (const key in tabContents) {
                tabContents[key].classList.add('hidden');
            }
            tabContents[tab].classList.remove('hidden');
        }

        // Modal logic
        function openModal(id) {
            const data = modalData[id];
            if (data) {
                modalImage.src = data.imageUrl;
                modalImage.alt = data.title;
                modalTitle.textContent = data.title;
                modalDescription.textContent = data.description;
                
                modal.classList.remove('hidden');
                modal.classList.add('visible');
                modalContent.classList.remove('hidden');
                modalContent.classList.add('visible');
            }
        }

        function closeModal() {
            modal.classList.add('hidden');
            modal.classList.remove('visible');
            modalContent.classList.add('hidden');
            modalContent.classList.remove('visible');
        }
    </script>

</body>
</html>